<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel=stylesheet type="text/css" href="style.css"/>
    <title></title>
</head>
<body>
    <div class="outerbox">
        <div class="buttonbar">
            <button id="clear">CLEAR</button>
            <button id="increase">+</button>
            <button id="decrease">-</button>

            <button id="record">record</button>
            <!--<a href="voice.html">voice recording old page</a> -->
        </div>
    

    <div id="tdiv" class="chatdiv">
        <textarea class="chatbox"  id="mytext"></textarea>
    </div>
    <script>
        function sizeButton(event) {

            mytext = document.getElementById("mytext");
            clone = mytext.cloneNode();
            tdiv = document.getElementById("tdiv");
            current = window.getComputedStyle(mytext);
            blah = current.fontSize;
            unitsize = blah.match("[0-9]+");
            unitname = blah.match("[a-zA-Z]+");
            if (event.target.id === "increase")
                unitsize = parseInt(unitsize) + 1;
            else if (event.target.id === "decrease")
                unitsize = parseInt(unitsize) - 1;
            else
                console.log("error on target id:" + event.target.id);




            newsize = unitsize + unitname;
            //tdiv.removeChild(mytext);
            //clone.style.fontSize = newsize;
            //clone.style.position = "absolute"
            //tdiv.appendChild(clone);
            localStorage.setItem("fontsize", newsize);
            mytext.style.fontSize = newsize;
            mytext.style.width = "100%";
            mytext.style.height = "100%";
            mytext.style.position = "absolute"



            console.log(clone.offsetHeight);

        }
        window.addEventListener("load", function () {
            text = document.getElementById("mytext");
            size = localStorage.getItem("fontsize");
            if (size != null) {
                text.style.fontSize = size;
                text.style.width = "100%";

            }
        });

        but = document.getElementById("clear")
        but.addEventListener("click", function () {
            console.log("called");
            text = document.getElementById("mytext");
            text.value = "";
            console.log(text);
        });
        but2 = document.getElementById("increase");
        but2.addEventListener("click", sizeButton);

        but3 = document.getElementById("decrease");
        but3.addEventListener("click", sizeButton);

    </script>
    <audio class="player" id="player" controls></audio>
    </div>
    <script type="text/javascript" src="voice.js" ></script>

</body>

</html>